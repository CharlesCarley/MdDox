
    void ${className}::sort(const SortMap& childOrder) const
    {
        if (_node) {
            _node->sort(
                [childOrder](Xml::Node *a, Xml::Node* b){
                    // This gives unmapped sections a higher index so that
                    // they are pushed to the end.
                    int va = 100000;
                    int vb = 100000;

                    const SortMap::const_iterator af = childOrder.find((int)a->getTypeCode());
                    if (af != childOrder.end())
                        va = af->second;

                    const SortMap::const_iterator bf = childOrder.find((int)b->getTypeCode());
                    if (bf != childOrder.end())
                        vb = bf->second;

                    // sort less
                    return va < vb;
            });
        }
    }